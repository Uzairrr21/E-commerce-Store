{"ast":null,"code":"var _jsxFileName = \"D:\\\\ecommerce-store\\\\frontend\\\\src\\\\context\\\\AppContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport https from 'https';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext();\nconst safeParse = (key, defaultValue) => {\n  try {\n    const item = localStorage.getItem(key);\n    return item ? JSON.parse(item) : defaultValue;\n  } catch (error) {\n    console.error(`Error parsing ${key} from localStorage`, error);\n    return defaultValue;\n  }\n};\nconst initialState = {\n  userInfo: safeParse('userInfo', null),\n  cart: {\n    cartItems: safeParse('cartItems', []),\n    shippingAddress: safeParse('shippingAddress', {}),\n    paymentMethod: localStorage.getItem('paymentMethod') || ''\n  },\n  loading: false,\n  error: null\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'REQUEST_START':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case 'REQUEST_SUCCESS':\n      return {\n        ...state,\n        loading: false\n      };\n    case 'REQUEST_FAIL':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case 'USER_LOGIN':\n      return {\n        ...state,\n        userInfo: action.payload,\n        error: null\n      };\n    case 'USER_LOGOUT':\n      return {\n        ...state,\n        userInfo: null,\n        cart: {\n          cartItems: [],\n          shippingAddress: {},\n          paymentMethod: ''\n        }\n      };\n    case 'ADD_TO_CART':\n      const newItem = action.payload;\n      const existItem = state.cart.cartItems.find(item => item._id === newItem._id);\n      const cartItems = existItem ? state.cart.cartItems.map(item => item._id === existItem._id ? newItem : item) : [...state.cart.cartItems, newItem];\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          cartItems\n        }\n      };\n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          cartItems: state.cart.cartItems.filter(item => item._id !== action.payload)\n        }\n      };\n    case 'SAVE_SHIPPING_ADDRESS':\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          shippingAddress: action.payload\n        }\n      };\n    case 'SAVE_PAYMENT_METHOD':\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          paymentMethod: action.payload\n        }\n      };\n    case 'CART_CLEAR':\n      return {\n        ...state,\n        cart: {\n          ...state.cart,\n          cartItems: []\n        }\n      };\n    case 'UPDATE_USER_PROFILE':\n      return {\n        ...state,\n        userInfo: {\n          ...state.userInfo,\n          ...action.payload\n        },\n        error: null\n      };\n    case 'RESET_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n}\nexport function AppProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    const syncLocalStorage = () => {\n      try {\n        if (state.userInfo) {\n          localStorage.setItem('userInfo', JSON.stringify(state.userInfo));\n        } else {\n          localStorage.removeItem('userInfo');\n        }\n        localStorage.setItem('cartItems', JSON.stringify(state.cart.cartItems));\n        localStorage.setItem('shippingAddress', JSON.stringify(state.cart.shippingAddress));\n        if (state.cart.paymentMethod) {\n          localStorage.setItem('paymentMethod', state.cart.paymentMethod);\n        } else {\n          localStorage.removeItem('paymentMethod');\n        }\n      } catch (error) {\n        console.error('Error syncing with localStorage:', error);\n      }\n    };\n    syncLocalStorage();\n  }, [state.userInfo, state.cart]);\n  const createAxiosInstance = useCallback(() => {\n    var _state$userInfo;\n    return axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      httpsAgent: new https.Agent({\n        rejectUnauthorized: false\n      }),\n      timeout: 10000,\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(((_state$userInfo = state.userInfo) === null || _state$userInfo === void 0 ? void 0 : _state$userInfo.token) && {\n          Authorization: `Bearer ${state.userInfo.token}`\n        })\n      }\n    });\n  }, [state.userInfo]);\n  const handleRequest = async (method, url, data = null) => {\n    try {\n      dispatch({\n        type: 'REQUEST_START'\n      });\n      const axiosInstance = createAxiosInstance();\n      const response = await axiosInstance({\n        method,\n        url,\n        data\n      });\n      dispatch({\n        type: 'REQUEST_SUCCESS'\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'Request failed. Please try again.';\n      dispatch({\n        type: 'REQUEST_FAIL',\n        payload: errorMessage\n      });\n      throw errorMessage;\n    }\n  };\n\n  // Auth functions\n  const login = async (email, password) => handleRequest('post', '/api/users/login', {\n    email,\n    password\n  }).then(data => dispatch({\n    type: 'USER_LOGIN',\n    payload: data\n  }));\n  const register = async (name, email, password) => handleRequest('post', '/api/users', {\n    name,\n    email,\n    password\n  }).then(data => dispatch({\n    type: 'USER_LOGIN',\n    payload: data\n  }));\n  const updateUserProfile = async userData => handleRequest('put', '/api/users/profile', userData).then(data => dispatch({\n    type: 'UPDATE_USER_PROFILE',\n    payload: data\n  }));\n  const logout = () => dispatch({\n    type: 'USER_LOGOUT'\n  });\n\n  // Cart functions\n  const addToCart = (product, qty) => {\n    const quantity = Number(qty);\n    if (quantity <= 0 || quantity > product.countInStock) {\n      throw new Error('Invalid quantity');\n    }\n    const item = {\n      _id: product._id,\n      product: product._id,\n      name: product.name,\n      image: product.image,\n      price: product.price,\n      countInStock: product.countInStock,\n      qty: quantity\n    };\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: item\n    });\n  };\n  const removeFromCart = id => dispatch({\n    type: 'REMOVE_FROM_CART',\n    payload: id\n  });\n  const saveShippingAddress = data => dispatch({\n    type: 'SAVE_SHIPPING_ADDRESS',\n    payload: data\n  });\n  const savePaymentMethod = method => dispatch({\n    type: 'SAVE_PAYMENT_METHOD',\n    payload: method\n  });\n  const clearCart = () => dispatch({\n    type: 'CART_CLEAR'\n  });\n  const resetError = () => dispatch({\n    type: 'RESET_ERROR'\n  });\n\n  // Order functions\n  const createOrder = async orderData => {\n    const data = await handleRequest('post', '/api/orders', orderData);\n    dispatch({\n      type: 'CART_CLEAR'\n    });\n    return data;\n  };\n  const getMyOrders = async () => handleRequest('get', '/api/orders/myorders');\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      state,\n      dispatch,\n      login,\n      logout,\n      register,\n      updateUserProfile,\n      addToCart,\n      removeFromCart,\n      saveShippingAddress,\n      savePaymentMethod,\n      clearCart,\n      createOrder,\n      getMyOrders,\n      resetError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(AppProvider, \"dswUyuyLsdNVo1R+SmNQcVcth8U=\");\n_c = AppProvider;\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useEffect","useCallback","axios","https","jsxDEV","_jsxDEV","AppContext","safeParse","key","defaultValue","item","localStorage","getItem","JSON","parse","error","console","initialState","userInfo","cart","cartItems","shippingAddress","paymentMethod","loading","reducer","state","action","type","payload","newItem","existItem","find","_id","map","filter","AppProvider","children","_s","dispatch","syncLocalStorage","setItem","stringify","removeItem","createAxiosInstance","_state$userInfo","create","baseURL","process","env","REACT_APP_API_URL","httpsAgent","Agent","rejectUnauthorized","timeout","withCredentials","headers","token","Authorization","handleRequest","method","url","data","axiosInstance","response","_error$response","_error$response$data","errorMessage","message","login","email","password","then","register","name","updateUserProfile","userData","logout","addToCart","product","qty","quantity","Number","countInStock","Error","image","price","removeFromCart","id","saveShippingAddress","savePaymentMethod","clearCart","resetError","createOrder","orderData","getMyOrders","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ecommerce-store/frontend/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useReducer, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport https from 'https';\r\n\r\nexport const AppContext = createContext();\r\n\r\nconst safeParse = (key, defaultValue) => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : defaultValue;\r\n  } catch (error) {\r\n    console.error(`Error parsing ${key} from localStorage`, error);\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  userInfo: safeParse('userInfo', null),\r\n  cart: {\r\n    cartItems: safeParse('cartItems', []),\r\n    shippingAddress: safeParse('shippingAddress', {}),\r\n    paymentMethod: localStorage.getItem('paymentMethod') || '',\r\n  },\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'REQUEST_START':\r\n      return { ...state, loading: true, error: null };\r\n    case 'REQUEST_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'REQUEST_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'USER_LOGIN':\r\n      return { ...state, userInfo: action.payload, error: null };\r\n    case 'USER_LOGOUT':\r\n      return {\r\n        ...state,\r\n        userInfo: null,\r\n        cart: { cartItems: [], shippingAddress: {}, paymentMethod: '' },\r\n      };\r\n    case 'ADD_TO_CART':\r\n      const newItem = action.payload;\r\n      const existItem = state.cart.cartItems.find(item => item._id === newItem._id);\r\n      const cartItems = existItem\r\n        ? state.cart.cartItems.map(item => item._id === existItem._id ? newItem : item)\r\n        : [...state.cart.cartItems, newItem];\r\n      return { ...state, cart: { ...state.cart, cartItems } };\r\n    case 'REMOVE_FROM_CART':\r\n      return {\r\n        ...state,\r\n        cart: {\r\n          ...state.cart,\r\n          cartItems: state.cart.cartItems.filter(item => item._id !== action.payload),\r\n        },\r\n      };\r\n    case 'SAVE_SHIPPING_ADDRESS':\r\n      return { ...state, cart: { ...state.cart, shippingAddress: action.payload } };\r\n    case 'SAVE_PAYMENT_METHOD':\r\n      return { ...state, cart: { ...state.cart, paymentMethod: action.payload } };\r\n    case 'CART_CLEAR':\r\n      return { ...state, cart: { ...state.cart, cartItems: [] } };\r\n    case 'UPDATE_USER_PROFILE':\r\n      return { ...state, userInfo: { ...state.userInfo, ...action.payload }, error: null };\r\n    case 'RESET_ERROR':\r\n      return { ...state, error: null };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function AppProvider({ children }) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    const syncLocalStorage = () => {\r\n      try {\r\n        if (state.userInfo) {\r\n          localStorage.setItem('userInfo', JSON.stringify(state.userInfo));\r\n        } else {\r\n          localStorage.removeItem('userInfo');\r\n        }\r\n        localStorage.setItem('cartItems', JSON.stringify(state.cart.cartItems));\r\n        localStorage.setItem('shippingAddress', JSON.stringify(state.cart.shippingAddress));\r\n        if (state.cart.paymentMethod) {\r\n          localStorage.setItem('paymentMethod', state.cart.paymentMethod);\r\n        } else {\r\n          localStorage.removeItem('paymentMethod');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error syncing with localStorage:', error);\r\n      }\r\n    };\r\n    syncLocalStorage();\r\n  }, [state.userInfo, state.cart]);\r\n\r\n  const createAxiosInstance = useCallback(() => {\r\n    return axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      httpsAgent: new https.Agent({ rejectUnauthorized: false }),\r\n      timeout: 10000,\r\n      withCredentials: true,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(state.userInfo?.token && { Authorization: `Bearer ${state.userInfo.token}` }),\r\n      },\r\n    });\r\n  }, [state.userInfo]);\r\n\r\n  const handleRequest = async (method, url, data = null) => {\r\n    try {\r\n      dispatch({ type: 'REQUEST_START' });\r\n      const axiosInstance = createAxiosInstance();\r\n      const response = await axiosInstance({ method, url, data });\r\n      dispatch({ type: 'REQUEST_SUCCESS' });\r\n      return response.data;\r\n    } catch (error) {\r\n      const errorMessage = error.response?.data?.message || \r\n                         error.message || \r\n                         'Request failed. Please try again.';\r\n      dispatch({ type: 'REQUEST_FAIL', payload: errorMessage });\r\n      throw errorMessage;\r\n    }\r\n  };\r\n\r\n  // Auth functions\r\n  const login = async (email, password) => \r\n    handleRequest('post', '/api/users/login', { email, password })\r\n      .then(data => dispatch({ type: 'USER_LOGIN', payload: data }));\r\n\r\n  const register = async (name, email, password) => \r\n    handleRequest('post', '/api/users', { name, email, password })\r\n      .then(data => dispatch({ type: 'USER_LOGIN', payload: data }));\r\n\r\n  const updateUserProfile = async (userData) => \r\n    handleRequest('put', '/api/users/profile', userData)\r\n      .then(data => dispatch({ type: 'UPDATE_USER_PROFILE', payload: data }));\r\n\r\n  const logout = () => dispatch({ type: 'USER_LOGOUT' });\r\n\r\n  // Cart functions\r\n  const addToCart = (product, qty) => {\r\n    const quantity = Number(qty);\r\n    if (quantity <= 0 || quantity > product.countInStock) {\r\n      throw new Error('Invalid quantity');\r\n    }\r\n    \r\n    const item = {\r\n      _id: product._id,\r\n      product: product._id,\r\n      name: product.name,\r\n      image: product.image,\r\n      price: product.price,\r\n      countInStock: product.countInStock,\r\n      qty: quantity,\r\n    };\r\n    \r\n    dispatch({ type: 'ADD_TO_CART', payload: item });\r\n  };\r\n\r\n  const removeFromCart = (id) => dispatch({ type: 'REMOVE_FROM_CART', payload: id });\r\n  const saveShippingAddress = (data) => dispatch({ type: 'SAVE_SHIPPING_ADDRESS', payload: data });\r\n  const savePaymentMethod = (method) => dispatch({ type: 'SAVE_PAYMENT_METHOD', payload: method });\r\n  const clearCart = () => dispatch({ type: 'CART_CLEAR' });\r\n  const resetError = () => dispatch({ type: 'RESET_ERROR' });\r\n\r\n  // Order functions\r\n  const createOrder = async (orderData) => {\r\n    const data = await handleRequest('post', '/api/orders', orderData);\r\n    dispatch({ type: 'CART_CLEAR' });\r\n    return data;\r\n  };\r\n\r\n  const getMyOrders = async () => handleRequest('get', '/api/orders/myorders');\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        state,\r\n        dispatch,\r\n        login,\r\n        logout,\r\n        register,\r\n        updateUserProfile,\r\n        addToCart,\r\n        removeFromCart,\r\n        saveShippingAddress,\r\n        savePaymentMethod,\r\n        clearCart,\r\n        createOrder,\r\n        getMyOrders,\r\n        resetError,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}